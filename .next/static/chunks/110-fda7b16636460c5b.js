"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[110],{171:(e,t,a)=>{a.d(t,{r:()=>i});let s=["1st_Waste_Management_2024-10-...Credit Memo).pdf","CustAccountStatementExt.Report....pdf","CustAccountStatementExt.Report....pdf","KeyIndicatorsStoreDhillon - Novem....pdf","Text_Management_2024-10-08_28....pdf","Verlingue_2024-10-09_42693.99.pdf"],n=0,i=[{id:"1",invoiceNumber:"INV-001",store:"Kings Hill",supplier:"Coca Cola",date:new Date("2023-05-01"),subtotal:365.42,vatRate:20,vat:91.36,total:456.78,accountCode:"5000-COGS",invoiceType:"Purchase Invoice",status:"AI Processed",archived:!1,deleted:!1,previewType:"pdf",previewUrl:"INV-001.pdf",lineItems:[]},{id:"2",invoiceNumber:"INV-002",store:"Tonbridge",supplier:"Eden Farms",date:new Date("2023-05-05"),subtotal:185.2,vatRate:20,vat:46.3,total:231.5,accountCode:"5000-COGS",invoiceType:"Purchase Invoice",status:"AI Processed",archived:!1,deleted:!1,previewType:"pdf",previewUrl:"invoice-eden-farms.pdf",lineItems:[]},{id:"3",invoiceNumber:"INV-003",store:"Tunbridge Wells",supplier:"Pepsi Co",date:new Date("2023-05-12"),subtotal:631.4,vatRate:20,vat:157.85,total:789.25,accountCode:"5000-COGS",invoiceType:"Purchase Invoice",status:"Pending AI",archived:!1,deleted:!1,previewType:"pdf",previewUrl:s[n++],lineItems:[]},{id:"4",invoiceNumber:"INV-004",store:"Kings Hill",supplier:"Office Supplies Ltd",date:new Date("2023-05-15"),subtotal:276.48,vatRate:20,vat:69.12,total:345.6,accountCode:"6500-OFFICE",invoiceType:"Purchase Invoice",status:"AI Processed",archived:!1,deleted:!1,previewType:"pdf",previewUrl:s[n++],lineItems:[]},{id:"5",invoiceNumber:"INV-005",store:"Tonbridge",supplier:"Utility Services",date:new Date("2023-05-20"),subtotal:454.32,vatRate:20,vat:113.58,total:567.9,accountCode:"6400-UTIL",invoiceType:"Purchase Invoice",status:"Needs Human Review",archived:!1,deleted:!1,previewType:"pdf",previewUrl:s[n++],lineItems:[]},{id:"6",invoiceNumber:"CN-001",store:"Tunbridge Wells",supplier:"Eden Farms",date:new Date("2023-05-25"),subtotal:98.76,vatRate:20,vat:24.69,total:123.45,accountCode:"5000-COGS",invoiceType:"Credit Note",status:"Pending AI",archived:!1,deleted:!1,previewType:"pdf",previewUrl:s[n++],lineItems:[]},{id:"7",invoiceNumber:"SI-001",store:"Southborough",supplier:"Marketing Agency",date:new Date("2023-06-01"),subtotal:543.12,vatRate:20,vat:135.78,total:678.9,accountCode:"4000-SALES",invoiceType:"Sales Invoice",status:"AI Processed",archived:!1,deleted:!1,previewType:"pdf",previewUrl:s[n++],lineItems:[]},{id:"8",invoiceNumber:"SI-002",store:"Southborough",supplier:"Equipment Ltd",date:new Date("2023-06-05"),subtotal:187.65,vatRate:20,vat:46.91,total:234.56,accountCode:"4000-SALES",invoiceType:"Sales Invoice",status:"Needs Human Review",archived:!1,deleted:!1,previewType:"pdf",previewUrl:s[n++],lineItems:[]},{id:"9",invoiceNumber:"INV-006",store:"Kings Hill",supplier:"ABC Cleaning",date:new Date("2023-06-10"),subtotal:345.75,vatRate:20,vat:86.44,total:432.19,accountCode:"6300-CLEAN",invoiceType:"Purchase Invoice",status:"AI Processed",archived:!1,deleted:!1,previewType:"pdf",previewUrl:s[n++],lineItems:[]},{id:"10",invoiceNumber:"INV-007",store:"Tonbridge",supplier:"Kent Vegetables Ltd",date:new Date("2023-06-15"),subtotal:238.76,vatRate:20,vat:59.69,total:298.45,accountCode:"5000-COGS",invoiceType:"Purchase Invoice",status:"Duplicate?",archived:!1,deleted:!1,previewType:"pdf",previewUrl:s[n++],lineItems:[]},{id:"11",invoiceNumber:"INV-008",store:"Tunbridge Wells",supplier:"Local Meats",date:new Date("2023-06-18"),subtotal:507.92,vatRate:20,vat:126.98,total:634.9,accountCode:"5000-COGS",invoiceType:"Purchase Invoice",status:"AI Processed",archived:!0,deleted:!1,previewType:"pdf",previewUrl:s[n++],lineItems:[]},{id:"12",invoiceNumber:"INV-009",store:"Southborough",supplier:"Global Distribution",date:new Date("2023-06-20"),subtotal:434.2,vatRate:20,vat:108.55,total:542.75,accountCode:"5000-COGS",invoiceType:"Purchase Invoice",status:"Pending AI",archived:!1,deleted:!1,previewType:"pdf",previewUrl:s[n++],lineItems:[]},{id:"13",invoiceNumber:"CN-002",store:"Kings Hill",supplier:"ABC Cleaning",date:new Date("2023-06-22"),subtotal:78.8,vatRate:20,vat:19.7,total:98.5,accountCode:"6300-CLEAN",invoiceType:"Credit Note",status:"AI Processed",archived:!1,deleted:!1,previewType:"pdf",previewUrl:s[n++],lineItems:[]},{id:"14",invoiceNumber:"SI-003",store:"Tonbridge",supplier:"Franchise Partner #1",date:new Date("2023-06-25"),subtotal:996.24,vatRate:20,vat:249.06,total:1245.3,accountCode:"4000-SALES",invoiceType:"Sales Invoice",status:"Duplicate?",archived:!1,deleted:!0,previewType:"pdf",previewUrl:s[n++],lineItems:[]},{id:"15",invoiceNumber:"INV-010",store:"Tunbridge Wells",supplier:"Kent Vegetables Ltd",date:new Date("2023-06-28"),subtotal:240.96,vatRate:20,vat:60.24,total:301.2,accountCode:"5000-COGS",invoiceType:"Purchase Invoice",status:"Duplicate?",archived:!1,deleted:!1,previewType:"pdf",previewUrl:s[n++],lineItems:[]},{id:"16",invoiceNumber:"INV-011",store:"Southborough",supplier:"Tech Solutions",date:new Date("2023-07-01"),subtotal:701.12,vatRate:20,vat:175.28,total:876.4,accountCode:"6700-TECH",invoiceType:"Purchase Invoice",status:"Needs Human Review",archived:!0,deleted:!1,previewType:"pdf",previewUrl:s[n++],lineItems:[]},{id:"17",invoiceNumber:"INV-012",store:"Kings Hill",supplier:"Building Maintenance",date:new Date("2023-07-05"),subtotal:1072.68,vatRate:20,vat:268.17,total:1340.85,accountCode:"6200-MAINT",invoiceType:"Purchase Invoice",status:"AI Processed",archived:!0,deleted:!1,previewType:"pdf",previewUrl:s[n++],lineItems:[]},{id:"18",invoiceNumber:"SI-004",store:"Tonbridge",supplier:"Corporate Event",date:new Date("2023-07-10"),subtotal:1720,vatRate:20,vat:430,total:2150,accountCode:"4000-SALES",invoiceType:"Sales Invoice",status:"AI Processed",archived:!1,deleted:!1,previewType:"pdf",previewUrl:s[n++],lineItems:[]}]},704:(e,t,a)=>{a.d(t,{B8:()=>U,UC:()=>P,bL:()=>S,l9:()=>D});var s=a(2115),n=a(5185),i=a(6081),r=a(9196),l=a(8905),o=a(3655),d=a(4315),c=a(5845),u=a(1285),p=a(5155),m="Tabs",[v,x]=(0,i.A)(m,[r.RG]),h=(0,r.RG)(),[f,b]=v(m),g=s.forwardRef((e,t)=>{let{__scopeTabs:a,value:s,onValueChange:n,defaultValue:i,orientation:r="horizontal",dir:l,activationMode:m="automatic",...v}=e,x=(0,d.jH)(l),[h,b]=(0,c.i)({prop:s,onChange:n,defaultProp:i});return(0,p.jsx)(f,{scope:a,baseId:(0,u.B)(),value:h,onValueChange:b,orientation:r,dir:x,activationMode:m,children:(0,p.jsx)(o.sG.div,{dir:x,"data-orientation":r,...v,ref:t})})});g.displayName=m;var j="TabsList",y=s.forwardRef((e,t)=>{let{__scopeTabs:a,loop:s=!0,...n}=e,i=b(j,a),l=h(a);return(0,p.jsx)(r.bL,{asChild:!0,...l,orientation:i.orientation,dir:i.dir,loop:s,children:(0,p.jsx)(o.sG.div,{role:"tablist","aria-orientation":i.orientation,...n,ref:t})})});y.displayName=j;var N="TabsTrigger",w=s.forwardRef((e,t)=>{let{__scopeTabs:a,value:s,disabled:i=!1,...l}=e,d=b(N,a),c=h(a),u=A(d.baseId,s),m=T(d.baseId,s),v=s===d.value;return(0,p.jsx)(r.q7,{asChild:!0,...c,focusable:!i,active:v,children:(0,p.jsx)(o.sG.button,{type:"button",role:"tab","aria-selected":v,"aria-controls":m,"data-state":v?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:u,...l,ref:t,onMouseDown:(0,n.m)(e.onMouseDown,e=>{i||0!==e.button||!1!==e.ctrlKey?e.preventDefault():d.onValueChange(s)}),onKeyDown:(0,n.m)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&d.onValueChange(s)}),onFocus:(0,n.m)(e.onFocus,()=>{let e="manual"!==d.activationMode;v||i||!e||d.onValueChange(s)})})})});w.displayName=N;var I="TabsContent",C=s.forwardRef((e,t)=>{let{__scopeTabs:a,value:n,forceMount:i,children:r,...d}=e,c=b(I,a),u=A(c.baseId,n),m=T(c.baseId,n),v=n===c.value,x=s.useRef(v);return s.useEffect(()=>{let e=requestAnimationFrame(()=>x.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,p.jsx)(l.C,{present:i||v,children:a=>{let{present:s}=a;return(0,p.jsx)(o.sG.div,{"data-state":v?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":u,hidden:!s,id:m,tabIndex:0,...d,ref:t,style:{...e.style,animationDuration:x.current?"0s":void 0},children:s&&r})}})});function A(e,t){return"".concat(e,"-trigger-").concat(t)}function T(e,t){return"".concat(e,"-content-").concat(t)}C.displayName=I;var S=g,U=y,D=w,P=C},1368:(e,t,a)=>{let s;a.d(t,{A:()=>l});let n={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)},i=new Uint8Array(16),r=[];for(let e=0;e<256;++e)r.push((e+256).toString(16).slice(1));let l=function(e,t,a){if(n.randomUUID&&!t&&!e)return n.randomUUID();let l=(e=e||{}).random??e.rng?.()??function(){if(!s){if("undefined"==typeof crypto||!crypto.getRandomValues)throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");s=crypto.getRandomValues.bind(crypto)}return s(i)}();if(l.length<16)throw Error("Random bytes length must be >= 16");if(l[6]=15&l[6]|64,l[8]=63&l[8]|128,t){if((a=a||0)<0||a+16>t.length)throw RangeError(`UUID byte range ${a}:${a+15} is out of buffer bounds`);for(let e=0;e<16;++e)t[a+e]=l[e];return t}return function(e,t=0){return(r[e[t+0]]+r[e[t+1]]+r[e[t+2]]+r[e[t+3]]+"-"+r[e[t+4]]+r[e[t+5]]+"-"+r[e[t+6]]+r[e[t+7]]+"-"+r[e[t+8]]+r[e[t+9]]+"-"+r[e[t+10]]+r[e[t+11]]+r[e[t+12]]+r[e[t+13]]+r[e[t+14]]+r[e[t+15]]).toLowerCase()}(l)}},2523:(e,t,a)=>{a.d(t,{p:()=>i});var s=a(5155);a(2115);var n=a(9434);function i(e){let{className:t,type:a,...i}=e;return(0,s.jsx)("input",{type:a,"data-slot":"input",className:(0,n.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...i})}},4126:(e,t,a)=>{a.d(t,{A:()=>s});let s=(0,a(9946).A)("trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]])},5127:(e,t,a)=>{a.d(t,{A0:()=>r,BF:()=>l,Hj:()=>o,XI:()=>i,nA:()=>c,nd:()=>d,r6:()=>u});var s=a(5155);a(2115);var n=a(9434);function i(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:(0,s.jsx)("table",{"data-slot":"table",className:(0,n.cn)("w-full caption-bottom text-sm",t),...a})})}function r(e){let{className:t,...a}=e;return(0,s.jsx)("thead",{"data-slot":"table-header",className:(0,n.cn)("[&_tr]:border-b [&_tr]:bg-muted/50",t),...a})}function l(e){let{className:t,...a}=e;return(0,s.jsx)("tbody",{"data-slot":"table-body",className:(0,n.cn)("[&_tr:last-child]:border-0",t),...a})}function o(e){let{className:t,...a}=e;return(0,s.jsx)("tr",{"data-slot":"table-row",className:(0,n.cn)("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",t),...a})}function d(e){let{className:t,...a}=e;return(0,s.jsx)("th",{"data-slot":"table-head",className:(0,n.cn)("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap bg-muted/50 [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...a})}function c(e){let{className:t,...a}=e;return(0,s.jsx)("td",{"data-slot":"table-cell",className:(0,n.cn)("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...a})}function u(e){let{className:t,...a}=e;return(0,s.jsx)("caption",{"data-slot":"table-caption",className:(0,n.cn)("text-muted-foreground mt-4 text-sm",t),...a})}},6906:(e,t,a)=>{a.d(t,{A:()=>n});var s=a(5155);a(2115);let n=e=>{let{subtotal:t,vatRate:a,vat:n,total:i}=e;return(0,s.jsxs)("div",{className:"flex flex-col gap-1 items-end mt-2 text-sm",children:[(0,s.jsxs)("div",{className:"flex justify-between w-48",children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Subtotal:"}),(0,s.jsxs)("span",{children:["\xa3",t.toFixed(2)]})]}),(0,s.jsxs)("div",{className:"flex justify-between w-48",children:[(0,s.jsxs)("span",{className:"text-muted-foreground",children:["VAT (",a,"%):"]}),(0,s.jsxs)("span",{children:["\xa3",n.toFixed(2)]})]}),(0,s.jsxs)("div",{className:"flex justify-between w-48 font-medium",children:[(0,s.jsx)("span",{children:"Total:"}),(0,s.jsxs)("span",{children:["\xa3",i.toFixed(2)]})]})]})}},6950:(e,t,a)=>{a.d(t,{A:()=>m});var s=a(5155),n=a(2115),i=a(1368),r=a(285),l=a(2523),o=a(9409),d=a(5127),c=a(9434),u=a(4616);let p=(0,a(9946).A)("minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]),m=e=>{let{storeAllocations:t,setStoreAllocations:a,invoiceTotal:m,isEditing:v,stores:x}=e,[h,f]=(0,n.useState)(0),[b,g]=(0,n.useState)(0),[j,y]=(0,n.useState)(!1),[N,w]=(0,n.useState)(!1);(0,n.useEffect)(()=>{let e=t.reduce((e,t)=>e+t.percentage,0),a=t.reduce((e,t)=>e+t.amount,0);f(e),g(a),y(Math.abs(e-100)>.01),w(Math.abs(a-m)>.01)},[t,m]);let I=e=>{if(t.length<=1)return;let s=t.find(t=>t.id===e);if(!s)return;let n=t.filter(t=>t.id!==e);if(n.length>0){let e=s.percentage/n.length,t=s.amount/n.length;a(n.map(a=>({...a,percentage:a.percentage+e,amount:a.amount+t})))}else a(n)},C=(e,s,n)=>{a(t.map(t=>{if(t.id===e){let e={...t,[s]:n};return"percentage"===s&&(e.amount=n/100*m),"amount"===s&&(e.percentage=n/m*100),e}return t}))};return(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-1",children:[(0,s.jsx)("h3",{className:"text-sm font-medium",children:"Store Allocations"}),v&&(0,s.jsxs)(r.$,{variant:"outline",size:"sm",onClick:()=>{if(t.length>=10)return;let e=t.reduce((e,t)=>e+t.percentage,0),s=t.reduce((e,t)=>e+t.amount,0),n=Math.max(0,100-e),r=Math.max(0,m-s),l=t.map(e=>e.store),o=x.filter(e=>!l.includes(e)),d=o.length>0?o[0]:x[0];a([...t,{id:(0,i.A)(),store:d,percentage:n,amount:r}])},disabled:t.length>=10,className:"h-6 text-xs py-0",children:[(0,s.jsx)(u.A,{className:"h-3 w-3 mr-1"}),"Add Allocation"]})]}),0===t.length?(0,s.jsx)("div",{className:"text-sm text-muted-foreground italic",children:"No store allocations set up yet."}):(0,s.jsxs)("div",{children:[(0,s.jsxs)(d.XI,{className:"text-sm",children:[(0,s.jsx)(d.A0,{children:(0,s.jsxs)(d.Hj,{className:"h-8",children:[(0,s.jsx)(d.nd,{children:"Store"}),(0,s.jsx)(d.nd,{children:"Percentage (%)"}),(0,s.jsx)(d.nd,{children:"Amount (\xa3)"}),(0,s.jsx)(d.nd,{})]})}),(0,s.jsxs)(d.BF,{children:[t.map(e=>(0,s.jsxs)(d.Hj,{className:"h-8",children:[(0,s.jsx)(d.nA,{className:"py-1",children:(0,s.jsxs)(o.l6,{value:e.store,onValueChange:t=>C(e.id,"store",t),disabled:!v,children:[(0,s.jsx)(o.bq,{className:"h-6 text-xs w-full",children:(0,s.jsx)(o.yv,{placeholder:"Select store"})}),(0,s.jsx)(o.gC,{children:x.map(e=>(0,s.jsx)(o.eb,{value:e,className:"text-xs",children:e},e))})]})}),(0,s.jsx)(d.nA,{className:"py-1",children:(0,s.jsx)(l.p,{type:"number",min:"0",max:"100",step:"0.01",value:e.percentage,onChange:t=>C(e.id,"percentage",parseFloat(t.target.value)||0),disabled:!v,className:"h-6 text-xs"})}),(0,s.jsx)(d.nA,{className:"py-1",children:(0,s.jsx)(l.p,{type:"number",min:"0",max:m,step:"0.01",value:e.amount,onChange:t=>C(e.id,"amount",parseFloat(t.target.value)||0),disabled:!v,className:"h-6 text-xs"})}),(0,s.jsx)(d.nA,{className:"py-1",children:(0,s.jsx)(r.$,{size:"icon",variant:"ghost",onClick:()=>I(e.id),disabled:!v||t.length<=1,className:"h-6 w-6",children:(0,s.jsx)(p,{className:"h-3 w-3"})})})]},e.id)),(0,s.jsxs)(d.Hj,{children:[(0,s.jsx)(d.nA,{className:"py-1 font-bold text-xs",children:"Total"}),(0,s.jsxs)(d.nA,{className:(0,c.cn)("py-1 font-bold text-xs",j?"text-red-500":""),children:[h.toFixed(2),"%"]}),(0,s.jsxs)(d.nA,{className:(0,c.cn)("py-1 font-bold text-xs",N?"text-red-500":""),children:["\xa3",b.toFixed(2)]}),(0,s.jsx)(d.nA,{})]})]})]}),(j||N)&&v&&(0,s.jsxs)("div",{className:"text-xs text-red-500 mt-1",children:[j&&(0,s.jsx)("p",{children:"Total percentage must equal 100%"}),N&&(0,s.jsxs)("p",{children:["Total amount must equal invoice total (\xa3",m.toFixed(2),")"]})]})]})]})}},7313:(e,t,a)=>{a.d(t,{Xi:()=>o,av:()=>d,j7:()=>l,tU:()=>r});var s=a(5155);a(2115);var n=a(704),i=a(9434);function r(e){let{className:t,...a}=e;return(0,s.jsx)(n.bL,{"data-slot":"tabs",className:(0,i.cn)("flex flex-col gap-2",t),...a})}function l(e){let{className:t,...a}=e;return(0,s.jsx)(n.B8,{"data-slot":"tabs-list",className:(0,i.cn)("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",t),...a})}function o(e){let{className:t,...a}=e;return(0,s.jsx)(n.l9,{"data-slot":"tabs-trigger",className:(0,i.cn)("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...a})}function d(e){let{className:t,...a}=e;return(0,s.jsx)(n.UC,{"data-slot":"tabs-content",className:(0,i.cn)("flex-1 outline-none",t),...a})}},7986:(e,t,a)=>{a.d(t,{A:()=>c});var s=a(5155);a(2115);var n=a(1368),i=a(285),r=a(2523),l=a(5127),o=a(4616),d=a(4126);let c=e=>{let{lineItems:t,setLineItems:a,isEditing:c,onTotalsUpdate:u}=e,p=e=>e.quantity*e.unitPrice,m=e=>{let s=[...t];s.splice(e,1),a(s),u&&u(s.reduce((e,t)=>e+p(t),0))},v=(e,s,n)=>{let i=[...t];i[e]={...i[e],[s]:n},i[e].total=p(i[e]),a(i),u&&u(i.reduce((e,t)=>e+p(t),0))};return(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-1",children:[(0,s.jsx)("h3",{className:"text-sm font-medium",children:"Line Items"}),c&&(0,s.jsxs)(i.$,{variant:"outline",size:"sm",onClick:()=>{a([...t,{id:(0,n.A)(),description:"",quantity:1,unitPrice:0,total:0,accountCode:""}])},className:"h-6 text-xs py-0",children:[(0,s.jsx)(o.A,{className:"h-3 w-3 mr-1"}),"Add Item"]})]}),(0,s.jsxs)(l.XI,{className:"text-sm",children:[(0,s.jsx)(l.A0,{children:(0,s.jsxs)(l.Hj,{className:"h-8",children:[(0,s.jsx)(l.nd,{children:"Description"}),(0,s.jsx)(l.nd,{className:"text-right w-16",children:"Qty"}),(0,s.jsx)(l.nd,{className:"text-right w-24",children:"Unit Price"}),(0,s.jsx)(l.nd,{className:"text-right w-24",children:"Total"}),c&&(0,s.jsx)(l.nd,{className:"w-10",children:"Actions"})]})}),(0,s.jsx)(l.BF,{children:t.map((e,t)=>(0,s.jsx)(l.Hj,{className:"h-8",children:c?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(l.nA,{className:"py-1 font-medium",children:(0,s.jsx)(r.p,{value:e.description,onChange:e=>v(t,"description",e.target.value),className:"h-6 text-xs w-full"})}),(0,s.jsx)(l.nA,{className:"py-1 text-right",children:(0,s.jsx)(r.p,{type:"number",value:e.quantity,onChange:e=>v(t,"quantity",parseFloat(e.target.value)||0),className:"h-6 text-xs w-16 ml-auto"})}),(0,s.jsx)(l.nA,{className:"py-1 text-right",children:(0,s.jsxs)("div",{className:"flex items-center justify-end",children:[(0,s.jsx)("span",{className:"mr-1",children:"\xa3"}),(0,s.jsx)(r.p,{type:"number",step:"0.01",value:e.unitPrice,onChange:e=>v(t,"unitPrice",parseFloat(e.target.value)||0),className:"h-6 text-xs w-20"})]})}),(0,s.jsxs)(l.nA,{className:"py-1 text-right",children:["\xa3",p(e).toFixed(2)]}),(0,s.jsx)(l.nA,{className:"py-1",children:(0,s.jsx)(i.$,{variant:"ghost",size:"icon",onClick:()=>m(t),className:"h-6 w-6",children:(0,s.jsx)(d.A,{className:"h-3 w-3"})})})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(l.nA,{className:"py-1 font-medium",children:e.description}),(0,s.jsx)(l.nA,{className:"py-1 text-right",children:e.quantity}),(0,s.jsxs)(l.nA,{className:"py-1 text-right",children:["\xa3",e.unitPrice.toFixed(2)]}),(0,s.jsxs)(l.nA,{className:"py-1 text-right",children:["\xa3",p(e).toFixed(2)]})]})},e.id))})]})]})}},9409:(e,t,a)=>{a.d(t,{bq:()=>u,eb:()=>m,gC:()=>p,l6:()=>d,yv:()=>c});var s=a(5155);a(2115);var n=a(8893),i=a(6474),r=a(5196),l=a(7863),o=a(9434);function d(e){let{...t}=e;return(0,s.jsx)(n.bL,{"data-slot":"select",...t})}function c(e){let{...t}=e;return(0,s.jsx)(n.WT,{"data-slot":"select-value",...t})}function u(e){let{className:t,size:a="default",children:r,...l}=e;return(0,s.jsxs)(n.l9,{"data-slot":"select-trigger","data-size":a,className:(0,o.cn)("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...l,children:[r,(0,s.jsx)(n.In,{asChild:!0,children:(0,s.jsx)(i.A,{className:"size-4 opacity-50"})})]})}function p(e){let{className:t,children:a,position:i="popper",...r}=e;return(0,s.jsx)(n.ZL,{children:(0,s.jsxs)(n.UC,{"data-slot":"select-content",className:(0,o.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md","popper"===i&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:i,...r,children:[(0,s.jsx)(v,{}),(0,s.jsx)(n.LM,{className:(0,o.cn)("p-1","popper"===i&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:a}),(0,s.jsx)(x,{})]})})}function m(e){let{className:t,children:a,...i}=e;return(0,s.jsxs)(n.q7,{"data-slot":"select-item",className:(0,o.cn)("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",t),...i,children:[(0,s.jsx)("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:(0,s.jsx)(n.VF,{children:(0,s.jsx)(r.A,{className:"size-4"})})}),(0,s.jsx)(n.p4,{children:a})]})}function v(e){let{className:t,...a}=e;return(0,s.jsx)(n.PP,{"data-slot":"select-scroll-up-button",className:(0,o.cn)("flex cursor-default items-center justify-center py-1",t),...a,children:(0,s.jsx)(l.A,{className:"size-4"})})}function x(e){let{className:t,...a}=e;return(0,s.jsx)(n.wn,{"data-slot":"select-scroll-down-button",className:(0,o.cn)("flex cursor-default items-center justify-center py-1",t),...a,children:(0,s.jsx)(i.A,{className:"size-4"})})}},9811:(e,t,a)=>{a.d(t,{A:()=>l});var s=a(5155),n=a(2115),i=a(9434);let r=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)("textarea",{className:(0,i.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),ref:t,...n})});r.displayName="Textarea";let l=e=>{let{notes:t,isEditing:a,onNotesChange:n}=e;return(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-sm font-medium mb-1",children:"Notes"}),a?(0,s.jsx)(r,{placeholder:"Add notes or comments about this invoice...",className:"min-h-[60px] text-sm",value:t||"",onChange:e=>{n(e.target.value)}}):(0,s.jsx)("div",{className:"p-2 bg-muted rounded-md min-h-[40px] text-sm",children:t||(0,s.jsx)("span",{className:"text-muted-foreground text-xs italic",children:"No notes added"})})]})}}}]);