(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[443],{2523:(e,t,n)=>{"use strict";n.d(t,{p:()=>r});var a=n(5155);n(2115);var s=n(9434);function r(e){let{className:t,type:n,...r}=e;return(0,a.jsx)("input",{type:n,"data-slot":"input",className:(0,s.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...r})}},3953:(e,t,n)=>{Promise.resolve().then(n.bind(n,3993))},3993:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>j});var a=n(5155),s=n(2115),r=n(285),l=n(6695),i=n(5127),o=n(4165),d=n(3717),c=n(7924),u=n(2523),x=n(4847),p=n(7313);let f=[{id:1,status:"pending",type:"accrual",narration:"Insurance-2025- Mar to Jun",date:"2025-04-01",lines:[{description:"Insurance-2025- Mar to Jun",account:"8204 - Insurance",store:"MAIDSTONE",debit:1380.35,credit:0},{description:"Insurance-2025- Mar to Jun",account:"1104 - Prepayment Rent",store:"MAIDSTONE",debit:0,credit:1380.35}]},{id:2,status:"approved",type:"accrual",narration:"Insurance-2025- Mar to Jun",date:"2025-04-01",lines:[{description:"Insurance-2025- Mar to Jun",account:"8204 - Insurance",store:"BARMING",debit:1465.21,credit:0},{description:"Insurance-2025- Mar to Jun",account:"1104 - Prepayment Rent",store:"BARMING",debit:0,credit:1465.21}]},{id:3,status:"approved",type:"prepayment",narration:"Insurance-2025- Mar to Jun",date:"2025-04-01",lines:[{description:"Insurance-2025- Mar to Jun",account:"8204 - Insurance",store:"KINGS HILL",debit:1429.38,credit:0},{description:"Insurance-2025- Mar to Jun",account:"1104 - Prepayment Rent",store:"KINGS HILL",debit:0,credit:1429.38}]}];function m(e,t){let{dateRange:n,stores:a,search:s}=t;return e.filter(e=>{let t=new Date(e.date),r=!(null==n?void 0:n.from)||!(null==n?void 0:n.to)||t>=n.from&&t<=n.to,l=!a||"all"===a||e.lines.some(e=>a.split(",").includes(e.store.toUpperCase())),i=!s||e.narration.toLowerCase().includes(s.toLowerCase());return r&&l&&i})}function h(e){let{open:t,onOpenChange:n,journal:s}=e;if(!s)return null;let d=s.lines.reduce((e,t)=>e+(t.debit||0),0),c=s.lines.reduce((e,t)=>e+(t.credit||0),0);return(0,a.jsx)(o.lG,{open:t,onOpenChange:n,children:(0,a.jsxs)(o.Cf,{className:"max-w-3xl",children:[(0,a.jsxs)(o.c7,{children:[(0,a.jsxs)(o.L3,{children:["Posted Manual Journal #",s.id]}),(0,a.jsx)(o.rr,{children:s.narration})]}),(0,a.jsx)("div",{className:"mb-4 text-sm flex gap-8",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("b",{children:"Date:"})," ",s.date]})}),(0,a.jsx)(l.Zp,{className:"mb-4",children:(0,a.jsx)(l.Wu,{className:"p-0",children:(0,a.jsxs)(i.XI,{children:[(0,a.jsx)(i.A0,{children:(0,a.jsxs)(i.Hj,{children:[(0,a.jsx)(i.nd,{children:"Description"}),(0,a.jsx)(i.nd,{children:"Account"}),(0,a.jsx)(i.nd,{children:"Store"}),(0,a.jsx)(i.nd,{children:"Debit GBP"}),(0,a.jsx)(i.nd,{children:"Credit GBP"})]})}),(0,a.jsxs)(i.BF,{children:[s.lines.map((e,t)=>(0,a.jsxs)(i.Hj,{children:[(0,a.jsx)(i.nA,{children:e.description}),(0,a.jsx)(i.nA,{children:e.account}),(0,a.jsx)(i.nA,{children:e.store}),(0,a.jsx)(i.nA,{children:e.debit?e.debit.toFixed(2):""}),(0,a.jsx)(i.nA,{children:e.credit?e.credit.toFixed(2):""})]},t)),(0,a.jsxs)(i.Hj,{children:[(0,a.jsx)(i.nA,{colSpan:3,className:"text-right font-bold",children:"TOTAL"}),(0,a.jsx)(i.nA,{className:"font-bold",children:d.toFixed(2)}),(0,a.jsx)(i.nA,{className:"font-bold",children:c.toFixed(2)})]})]})]})})}),(0,a.jsxs)(o.Es,{children:[(0,a.jsx)(r.$,{variant:"outline",onClick:()=>n(!1),children:"Close"}),(0,a.jsx)(r.$,{children:"Edit Journal"})]})]})})}function j(){let[e,t]=s.useState(),[n,o]=s.useState("all"),[j,b]=s.useState(""),[g,v]=s.useState(null),[N,y]=s.useState(!1),[w,A]=s.useState("pending"),I=m(f.filter(e=>"pending"===e.status),{dateRange:e,stores:n,search:j}),k=m(f.filter(e=>"accrual"===e.type&&"approved"===e.status),{dateRange:e,stores:n,search:j}),C=m(f.filter(e=>"prepayment"===e.type&&"approved"===e.status),{dateRange:e,stores:n,search:j});function M(e){return(0,a.jsxs)(i.XI,{children:[(0,a.jsx)(i.A0,{children:(0,a.jsxs)(i.Hj,{children:[(0,a.jsx)(i.nd,{children:"Narration"}),(0,a.jsx)(i.nd,{children:"Date"}),(0,a.jsx)(i.nd,{children:"Stores"}),(0,a.jsx)(i.nd,{children:"Actions"})]})}),(0,a.jsx)(i.BF,{children:e.map(e=>(0,a.jsxs)(i.Hj,{children:[(0,a.jsx)(i.nA,{children:e.narration}),(0,a.jsx)(i.nA,{children:e.date}),(0,a.jsx)(i.nA,{children:[...new Set(e.lines.map(e=>e.store))].join(", ")}),(0,a.jsx)(i.nA,{children:(0,a.jsxs)(r.$,{size:"sm",variant:"outline",onClick:()=>{v(e),y(!0)},children:[(0,a.jsx)(d.A,{className:"w-4 h-4 mr-1"})," Edit"]})})]},e.id))})]})}return(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold",children:"Journals"}),(0,a.jsxs)("div",{className:"flex gap-4 items-center",children:[(0,a.jsxs)("div",{className:"relative flex-1 max-w-xs",children:[(0,a.jsx)(c.A,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),(0,a.jsx)(u.p,{placeholder:"Search by narration...",className:"pl-8",value:j,onChange:e=>b(e.target.value)})]}),(0,a.jsx)(x.N,{storeValue:n,onStoreChange:o,dateValue:e,onDateChange:t})]})]}),(0,a.jsx)(l.Zp,{children:(0,a.jsx)(l.Wu,{className:"p-4",children:(0,a.jsxs)(p.tU,{value:w,onValueChange:A,className:"space-y-4",children:[(0,a.jsxs)(p.j7,{className:"grid w-full grid-cols-3 mb-4",children:[(0,a.jsx)(p.Xi,{value:"pending",children:"Pending for Approval"}),(0,a.jsx)(p.Xi,{value:"accrual",children:"Accrual Journals"}),(0,a.jsx)(p.Xi,{value:"prepayment",children:"Prepayment Journals"})]}),(0,a.jsx)(p.av,{value:"pending",children:M(I)}),(0,a.jsx)(p.av,{value:"accrual",children:M(k)}),(0,a.jsx)(p.av,{value:"prepayment",children:M(C)})]})})}),(0,a.jsx)(h,{open:N,onOpenChange:y,journal:g})]})}},4165:(e,t,n)=>{"use strict";n.d(t,{Cf:()=>x,Es:()=>f,HM:()=>c,L3:()=>m,c7:()=>p,lG:()=>i,rr:()=>h,zM:()=>o});var a=n(5155);n(2115);var s=n(5452),r=n(4416),l=n(9434);function i(e){let{...t}=e;return(0,a.jsx)(s.bL,{"data-slot":"dialog",...t})}function o(e){let{...t}=e;return(0,a.jsx)(s.l9,{"data-slot":"dialog-trigger",...t})}function d(e){let{...t}=e;return(0,a.jsx)(s.ZL,{"data-slot":"dialog-portal",...t})}function c(e){let{...t}=e;return(0,a.jsx)(s.bm,{"data-slot":"dialog-close",...t})}function u(e){let{className:t,...n}=e;return(0,a.jsx)(s.hJ,{"data-slot":"dialog-overlay",className:(0,l.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...n})}function x(e){let{className:t,children:n,...i}=e;return(0,a.jsxs)(d,{"data-slot":"dialog-portal",children:[(0,a.jsx)(u,{}),(0,a.jsxs)(s.UC,{"data-slot":"dialog-content",className:(0,l.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...i,children:[n,(0,a.jsxs)(s.bm,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,a.jsx)(r.A,{}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function p(e){let{className:t,...n}=e;return(0,a.jsx)("div",{"data-slot":"dialog-header",className:(0,l.cn)("flex flex-col gap-2 text-center sm:text-left",t),...n})}function f(e){let{className:t,...n}=e;return(0,a.jsx)("div",{"data-slot":"dialog-footer",className:(0,l.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",t),...n})}function m(e){let{className:t,...n}=e;return(0,a.jsx)(s.hE,{"data-slot":"dialog-title",className:(0,l.cn)("text-lg leading-none font-semibold",t),...n})}function h(e){let{className:t,...n}=e;return(0,a.jsx)(s.VY,{"data-slot":"dialog-description",className:(0,l.cn)("text-muted-foreground text-sm",t),...n})}},5127:(e,t,n)=>{"use strict";n.d(t,{A0:()=>l,BF:()=>i,Hj:()=>o,XI:()=>r,nA:()=>c,nd:()=>d,r6:()=>u});var a=n(5155);n(2115);var s=n(9434);function r(e){let{className:t,...n}=e;return(0,a.jsx)("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:(0,a.jsx)("table",{"data-slot":"table",className:(0,s.cn)("w-full caption-bottom text-sm",t),...n})})}function l(e){let{className:t,...n}=e;return(0,a.jsx)("thead",{"data-slot":"table-header",className:(0,s.cn)("[&_tr]:border-b [&_tr]:bg-muted/50",t),...n})}function i(e){let{className:t,...n}=e;return(0,a.jsx)("tbody",{"data-slot":"table-body",className:(0,s.cn)("[&_tr:last-child]:border-0",t),...n})}function o(e){let{className:t,...n}=e;return(0,a.jsx)("tr",{"data-slot":"table-row",className:(0,s.cn)("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",t),...n})}function d(e){let{className:t,...n}=e;return(0,a.jsx)("th",{"data-slot":"table-head",className:(0,s.cn)("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap bg-muted/50 [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...n})}function c(e){let{className:t,...n}=e;return(0,a.jsx)("td",{"data-slot":"table-cell",className:(0,s.cn)("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...n})}function u(e){let{className:t,...n}=e;return(0,a.jsx)("caption",{"data-slot":"table-caption",className:(0,s.cn)("text-muted-foreground mt-4 text-sm",t),...n})}},7313:(e,t,n)=>{"use strict";n.d(t,{Xi:()=>o,av:()=>d,j7:()=>i,tU:()=>l});var a=n(5155);n(2115);var s=n(704),r=n(9434);function l(e){let{className:t,...n}=e;return(0,a.jsx)(s.bL,{"data-slot":"tabs",className:(0,r.cn)("flex flex-col gap-2",t),...n})}function i(e){let{className:t,...n}=e;return(0,a.jsx)(s.B8,{"data-slot":"tabs-list",className:(0,r.cn)("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",t),...n})}function o(e){let{className:t,...n}=e;return(0,a.jsx)(s.l9,{"data-slot":"tabs-trigger",className:(0,r.cn)("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...n})}function d(e){let{className:t,...n}=e;return(0,a.jsx)(s.UC,{"data-slot":"tabs-content",className:(0,r.cn)("flex-1 outline-none",t),...n})}}},e=>{var t=t=>e(e.s=t);e.O(0,[693,281,698,124,732,349,441,684,358],()=>t(3953)),_N_E=e.O()}]);