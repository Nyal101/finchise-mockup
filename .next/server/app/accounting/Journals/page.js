(()=>{var e={};e.id=443,e.ids=[443],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},28985:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});let r=(0,n(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/siyanpatel/Documents/GitHub/franchise-ai-mockup/src/app/accounting/Journals/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/siyanpatel/Documents/GitHub/franchise-ai-mockup/src/app/accounting/Journals/page.tsx","default")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},29844:(e,t,n)=>{"use strict";n.d(t,{tU:()=>G,av:()=>D,j7:()=>M,Xi:()=>J});var r=n(60687),a=n(43210),s=n(70569),i=n(11273),o=n(72942),l=n(46059),d=n(14163),c=n(43),u=n(65551),p=n(96963),x="Tabs",[h,m]=(0,i.A)(x,[o.RG]),f=(0,o.RG)(),[j,v]=h(x),b=a.forwardRef((e,t)=>{let{__scopeTabs:n,value:a,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:x="automatic",...h}=e,m=(0,c.jH)(l),[f,v]=(0,u.i)({prop:a,onChange:s,defaultProp:i});return(0,r.jsx)(j,{scope:n,baseId:(0,p.B)(),value:f,onValueChange:v,orientation:o,dir:m,activationMode:x,children:(0,r.jsx)(d.sG.div,{dir:m,"data-orientation":o,...h,ref:t})})});b.displayName=x;var g="TabsList",y=a.forwardRef((e,t)=>{let{__scopeTabs:n,loop:a=!0,...s}=e,i=v(g,n),l=f(n);return(0,r.jsx)(o.bL,{asChild:!0,...l,orientation:i.orientation,dir:i.dir,loop:a,children:(0,r.jsx)(d.sG.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:t})})});y.displayName=g;var A="TabsTrigger",N=a.forwardRef((e,t)=>{let{__scopeTabs:n,value:a,disabled:i=!1,...l}=e,c=v(A,n),u=f(n),p=I(c.baseId,a),x=P(c.baseId,a),h=a===c.value;return(0,r.jsx)(o.q7,{asChild:!0,...u,focusable:!i,active:h,children:(0,r.jsx)(d.sG.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":x,"data-state":h?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:p,...l,ref:t,onMouseDown:(0,s.m)(e.onMouseDown,e=>{i||0!==e.button||!1!==e.ctrlKey?e.preventDefault():c.onValueChange(a)}),onKeyDown:(0,s.m)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&c.onValueChange(a)}),onFocus:(0,s.m)(e.onFocus,()=>{let e="manual"!==c.activationMode;h||i||!e||c.onValueChange(a)})})})});N.displayName=A;var w="TabsContent",C=a.forwardRef((e,t)=>{let{__scopeTabs:n,value:s,forceMount:i,children:o,...c}=e,u=v(w,n),p=I(u.baseId,s),x=P(u.baseId,s),h=s===u.value,m=a.useRef(h);return a.useEffect(()=>{let e=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,r.jsx)(l.C,{present:i||h,children:({present:n})=>(0,r.jsx)(d.sG.div,{"data-state":h?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":p,hidden:!n,id:x,tabIndex:0,...c,ref:t,style:{...e.style,animationDuration:m.current?"0s":void 0},children:n&&o})})});function I(e,t){return`${e}-trigger-${t}`}function P(e,t){return`${e}-content-${t}`}C.displayName=w;var k=n(4780);function G({className:e,...t}){return(0,r.jsx)(b,{"data-slot":"tabs",className:(0,k.cn)("flex flex-col gap-2",e),...t})}function M({className:e,...t}){return(0,r.jsx)(y,{"data-slot":"tabs-list",className:(0,k.cn)("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",e),...t})}function J({className:e,...t}){return(0,r.jsx)(N,{"data-slot":"tabs-trigger",className:(0,k.cn)("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...t})}function D({className:e,...t}){return(0,r.jsx)(C,{"data-slot":"tabs-content",className:(0,k.cn)("flex-1 outline-none",e),...t})}},33873:e=>{"use strict";e.exports=require("path")},40287:(e,t,n)=>{Promise.resolve().then(n.bind(n,28985))},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},63143:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});let r=(0,n(62688).A)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},69991:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>j});var r=n(60687),a=n(43210),s=n(29523),i=n(44493),o=n(6211),l=n(22126),d=n(63143),c=n(99270),u=n(89667),p=n(28372),x=n(29844);let h=[{id:1,status:"pending",type:"accrual",narration:"Insurance-2025- Mar to Jun",date:"2025-04-01",lines:[{description:"Insurance-2025- Mar to Jun",account:"8204 - Insurance",store:"MAIDSTONE",debit:1380.35,credit:0},{description:"Insurance-2025- Mar to Jun",account:"1104 - Prepayment Rent",store:"MAIDSTONE",debit:0,credit:1380.35}]},{id:2,status:"approved",type:"accrual",narration:"Insurance-2025- Mar to Jun",date:"2025-04-01",lines:[{description:"Insurance-2025- Mar to Jun",account:"8204 - Insurance",store:"BARMING",debit:1465.21,credit:0},{description:"Insurance-2025- Mar to Jun",account:"1104 - Prepayment Rent",store:"BARMING",debit:0,credit:1465.21}]},{id:3,status:"approved",type:"prepayment",narration:"Insurance-2025- Mar to Jun",date:"2025-04-01",lines:[{description:"Insurance-2025- Mar to Jun",account:"8204 - Insurance",store:"KINGS HILL",debit:1429.38,credit:0},{description:"Insurance-2025- Mar to Jun",account:"1104 - Prepayment Rent",store:"KINGS HILL",debit:0,credit:1429.38}]}];function m(e,{dateRange:t,stores:n,search:r}){return e.filter(e=>{let a=new Date(e.date),s=!t?.from||!t?.to||a>=t.from&&a<=t.to,i=!n||"all"===n||e.lines.some(e=>n.split(",").includes(e.store.toUpperCase())),o=!r||e.narration.toLowerCase().includes(r.toLowerCase());return s&&i&&o})}function f({open:e,onOpenChange:t,journal:n}){if(!n)return null;let a=n.lines.reduce((e,t)=>e+(t.debit||0),0),d=n.lines.reduce((e,t)=>e+(t.credit||0),0);return(0,r.jsx)(l.lG,{open:e,onOpenChange:t,children:(0,r.jsxs)(l.Cf,{className:"max-w-3xl",children:[(0,r.jsxs)(l.c7,{children:[(0,r.jsxs)(l.L3,{children:["Posted Manual Journal #",n.id]}),(0,r.jsx)(l.rr,{children:n.narration})]}),(0,r.jsx)("div",{className:"mb-4 text-sm flex gap-8",children:(0,r.jsxs)("div",{children:[(0,r.jsx)("b",{children:"Date:"})," ",n.date]})}),(0,r.jsx)(i.Zp,{className:"mb-4",children:(0,r.jsx)(i.Wu,{className:"p-0",children:(0,r.jsxs)(o.XI,{children:[(0,r.jsx)(o.A0,{children:(0,r.jsxs)(o.Hj,{children:[(0,r.jsx)(o.nd,{children:"Description"}),(0,r.jsx)(o.nd,{children:"Account"}),(0,r.jsx)(o.nd,{children:"Store"}),(0,r.jsx)(o.nd,{children:"Debit GBP"}),(0,r.jsx)(o.nd,{children:"Credit GBP"})]})}),(0,r.jsxs)(o.BF,{children:[n.lines.map((e,t)=>(0,r.jsxs)(o.Hj,{children:[(0,r.jsx)(o.nA,{children:e.description}),(0,r.jsx)(o.nA,{children:e.account}),(0,r.jsx)(o.nA,{children:e.store}),(0,r.jsx)(o.nA,{children:e.debit?e.debit.toFixed(2):""}),(0,r.jsx)(o.nA,{children:e.credit?e.credit.toFixed(2):""})]},t)),(0,r.jsxs)(o.Hj,{children:[(0,r.jsx)(o.nA,{colSpan:3,className:"text-right font-bold",children:"TOTAL"}),(0,r.jsx)(o.nA,{className:"font-bold",children:a.toFixed(2)}),(0,r.jsx)(o.nA,{className:"font-bold",children:d.toFixed(2)})]})]})]})})}),(0,r.jsxs)(l.Es,{children:[(0,r.jsx)(s.$,{variant:"outline",onClick:()=>t(!1),children:"Close"}),(0,r.jsx)(s.$,{children:"Edit Journal"})]})]})})}function j(){let[e,t]=a.useState(),[n,l]=a.useState("all"),[j,v]=a.useState(""),[b,g]=a.useState(null),[y,A]=a.useState(!1),[N,w]=a.useState("pending"),C=m(h.filter(e=>"pending"===e.status),{dateRange:e,stores:n,search:j}),I=m(h.filter(e=>"accrual"===e.type&&"approved"===e.status),{dateRange:e,stores:n,search:j}),P=m(h.filter(e=>"prepayment"===e.type&&"approved"===e.status),{dateRange:e,stores:n,search:j});function k(e){return(0,r.jsxs)(o.XI,{children:[(0,r.jsx)(o.A0,{children:(0,r.jsxs)(o.Hj,{children:[(0,r.jsx)(o.nd,{children:"Narration"}),(0,r.jsx)(o.nd,{children:"Date"}),(0,r.jsx)(o.nd,{children:"Stores"}),(0,r.jsx)(o.nd,{children:"Actions"})]})}),(0,r.jsx)(o.BF,{children:e.map(e=>(0,r.jsxs)(o.Hj,{children:[(0,r.jsx)(o.nA,{children:e.narration}),(0,r.jsx)(o.nA,{children:e.date}),(0,r.jsx)(o.nA,{children:[...new Set(e.lines.map(e=>e.store))].join(", ")}),(0,r.jsx)(o.nA,{children:(0,r.jsxs)(s.$,{size:"sm",variant:"outline",onClick:()=>{g(e),A(!0)},children:[(0,r.jsx)(d.A,{className:"w-4 h-4 mr-1"})," Edit"]})})]},e.id))})]})}return(0,r.jsxs)("div",{className:"space-y-8",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold",children:"Journals"}),(0,r.jsxs)("div",{className:"flex gap-4 items-center",children:[(0,r.jsxs)("div",{className:"relative flex-1 max-w-xs",children:[(0,r.jsx)(c.A,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),(0,r.jsx)(u.p,{placeholder:"Search by narration...",className:"pl-8",value:j,onChange:e=>v(e.target.value)})]}),(0,r.jsx)(p.N,{storeValue:n,onStoreChange:l,dateValue:e,onDateChange:t})]})]}),(0,r.jsx)(i.Zp,{children:(0,r.jsx)(i.Wu,{className:"p-4",children:(0,r.jsxs)(x.tU,{value:N,onValueChange:w,className:"space-y-4",children:[(0,r.jsxs)(x.j7,{className:"grid w-full grid-cols-3 mb-4",children:[(0,r.jsx)(x.Xi,{value:"pending",children:"Pending for Approval"}),(0,r.jsx)(x.Xi,{value:"accrual",children:"Accrual Journals"}),(0,r.jsx)(x.Xi,{value:"prepayment",children:"Prepayment Journals"})]}),(0,r.jsx)(x.av,{value:"pending",children:k(C)}),(0,r.jsx)(x.av,{value:"accrual",children:k(I)}),(0,r.jsx)(x.av,{value:"prepayment",children:k(P)})]})})}),(0,r.jsx)(f,{open:y,onOpenChange:A,journal:b})]})}},77239:(e,t,n)=>{Promise.resolve().then(n.bind(n,69991))},79551:e=>{"use strict";e.exports=require("url")},95807:(e,t,n)=>{"use strict";n.r(t),n.d(t,{GlobalError:()=>i.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>d});var r=n(65239),a=n(48088),s=n(88170),i=n.n(s),o=n(30893),l={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);n.d(t,l);let d={children:["",{children:["accounting",{children:["Journals",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(n.bind(n,28985)),"/Users/siyanpatel/Documents/GitHub/franchise-ai-mockup/src/app/accounting/Journals/page.tsx"]}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(n.bind(n,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(n.bind(n,94431)),"/Users/siyanpatel/Documents/GitHub/franchise-ai-mockup/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(n.t.bind(n,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(n.t.bind(n,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(n.t.bind(n,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(n.bind(n,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["/Users/siyanpatel/Documents/GitHub/franchise-ai-mockup/src/app/accounting/Journals/page.tsx"],u={require:n,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/accounting/Journals/page",pathname:"/accounting/Journals",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},99270:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});let r=(0,n(62688).A)("search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])}};var t=require("../../../webpack-runtime.js");t.C(e);var n=e=>t(t.s=e),r=t.X(0,[447,137,658,603,297,43,810],()=>n(95807));module.exports=r})();